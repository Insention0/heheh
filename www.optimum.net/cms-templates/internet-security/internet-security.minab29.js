/*! optimus v0.1.0 Built at 2023-03-20 14:20 EDT */
var internetSecurity=angular.module("internetSecurity",["config","dropdowninternet","cmsNavigation","lightBox","oolCookie","floater","alertBanner","platformPlayer","modal","panel","spinner"]);internetSecurity.controller("InternetSecurityCtrl",["$scope","ooluser","$window","$http","Config","$location",function(a,b,c,d,e,f){function g(){return a.userLogedIn===!1&&(reporting.trackClick(this,"Internet Security | McAfee | Sign in to download"),c.location="/login/?referer="+c.location.origin+"/internet/mcafee/mcafee-submit/"),"202"===a.errorCode?(reporting.setAttrs({prop35:"No email in CPC error"}),reporting.sendAttrs(!0),a.emailError=!0,!1):("150"===a.errorCode?(a.systemFailError=!0,$("#download").html("")):(angular.element("#download").attr("disabled","disabled"),"GET_MCAFEE"===a.mcafeeStatus?reporting.trackClick(this,"Internet Security | McAfee | Download Now"):"GO_TO_MCAFEE"===a.mcafeeStatus&&reporting.trackClick(this,"Internet Security | McAfee | Manage Devices"),d.get(a.targetUrl).success(function(b){"PASS"===b.result&&(angular.element("form#formGetMcafee").attr("action",b.url),angular.element("#SAMLResponse").attr("value",b.samlRequest),angular.element("form#formGetMcafee").submit()),"FAIL"===b.result&&(a.systemFailError=!0,$("#download").html(""),angular.element("#download").removeAttr("disabled"))}).error(function(){angular.element("#download").removeAttr("disabled")})),void 0)}a.titleUrlArray=[],a.test=!1;var h={textAnchorsOptions:{},preSelected:null,type:null};a.errorMessageConfig={type:"major",message:""};var i=e.getValuesBySelector("endpoint.api.mcafee");$(window).scrollTop(0),a.getMainTitle=function(b,c){if(a.titleUrlArray.push(b),$(".internet-security").width()>767?($("#drop").hide(),$(".subnav li.mobile-hidden").length<=1&&$(".subnav li").hasClass("mobile-hidden")&&$(".subnav li.mobile-hidden").addClass("oneItem")):$(".internet-security").width()<767&&($("#drop").hide(),a.titleUrlArray.length>3&&($("#drop").show(),$(".subnav").hide())),null===a.model.preSelected&&(a.model.preSelected=b),a.model.preSelected=a.titleUrlArray[0],"true"===c){var d=b+"mobile";a.model.textAnchorsOptions[d]=b}else a.model.textAnchorsOptions[b]=b},a.model=h,a.hostUrl=f.protocol()+"://"+f.host()+(window.location.port?":"+window.location.port:""),b.hasOOLSession?a.button=d.get(i+"status"+"?randomNum="+(new Date).getTime()).then(function(b){return a.userLogedIn=!0,a.buttonEnabled=!1,a.showErrMsg=!1,a.mcafeeStatus=b.data.status,a.errorCode=b.data.errorCode,"GET_MCAFEE"===a.mcafeeStatus?(a.buttonEnabled=!0,$("#download").html("Download Now"),a.managedevicesenabled=!1):"GO_TO_MCAFEE"===a.mcafeeStatus?"OPT-MC-002"===a.errorCode?(a.showErrMsg=!0,a.errorMessageConfig.type="minor",a.errorMessageConfig.message="Account Status is 'Disconnect'"):"OPT-MC-000"===a.errorCode?(a.buttonEnabled=!0,a.userLogedIn=!1,$("#download").html("Sign in to download")):"OPT-MC-003"===a.errorCode?(a.showErrMsg=!0,a.errorMessageConfig.type="minor",a.errorMessageConfig.message="Account Status is 'Service Downgrade'"):(a.buttonEnabled=!0,$("#download").html("Manage Devices"),a.managedevicesenabled=!0):"NOT_ELIGIBLE"===a.mcafeeStatus?(a.errorMessageConfig.icon="exclamation-sign","201"===a.errorCode||"204"===a.errorCode?(reporting.setAttrs({prop35:"Non-OOL error"}),reporting.sendAttrs(!0),a.showErrMsg=!0,a.errorMessageConfig.type="major",a.errorMessageConfig.message="Optimum Online service is required to download Optimum Internet Protection.  To become an Optimum Online customer call: 866-200-7092.",$("#download").html("")):"202"===a.errorCode?(a.buttonEnabled=!0,$("#download").html("Download Now")):"150"===a.errorCode?(a.systemFailError=!0,$("#download").html("")):"OPT-MC-001"===a.errorCode?(reporting.setAttrs({prop35:"Non-pay error"}),reporting.sendAttrs(!0),a.showErrMsg=!0,a.errorMessageConfig.type="major",a.errorMessageConfig.message="Your account appears to be past due. <a href='"+a.hostUrl+"/pay-bill' class='inherited' >Click here</a>  to make a payment.  Once complete, please return to this page to download Optimum Internet Protection.",$("#download").html("")):"205"===a.errorCode?(a.showErrMsg=!0,a.errorMessageConfig.type="major",a.errorMessageConfig.message="Account Status is Service Downgrade."):"206"===a.errorCode?(a.showErrMsg=!0,a.errorMessageConfig.type="major",a.errorMessageConfig.message="Account Status is Disconnect."):"OPT-MC-002"===a.errorCode?(a.showErrMsg=!0,a.errorMessageConfig.type="major",a.errorMessageConfig.message="Account Status is 'Disconnect'",$("#download").html("")):"OPT-MC-000"===a.errorCode?(a.buttonEnabled=!0,a.userLogedIn=!1,$("#download").html("Sign in to download")):(a.systemFailError=!0,$("#download").html(""))):(a.systemFailError=!0,$("#download").html("")),a.targetUrl=b.data.target,{text:a.text,enabled:a.buttonEnabled}},function(){}):(a.button={enabled:!0},a.buttonEnabled=!0,a.userLogedIn=!1,$("#download").html("Sign in to download")),a.activate=function(){g()},a.emailErrorValueToggle=function(){a.emailError=!1},a.systemFailErrorValueToggle=function(){a.systemFailError=!1}}]),$(document).ready(function(){$(".divTable-container").width()>750&&($(".divTable-subhead").equalHeight(),$(".divTable-subdata").equalHeight())});var x=$(window).scrollTop();$(window).resize(function(){if($(".internet-security").width()>767&&($(".drawer.is-open").length>0?($("#sub-header").addClass("fixed-alert"),$(".internet-security").addClass("alertOpened")):($("#sub-header").removeClass("fixed-alert"),$(".internet-security").removeClass("alertOpened")),$("ul.subnav li.mobile-hidden").length,0!==x&&$(window).scrollTop(0),x=0,$("#drop").hide(),$(".subnav").show(),$("ul.subnav li.desktop-hidden").hide(),$("ul.subnav li.mobile-hidden").show()),null!=$(".internet-security").width()){var a=$("ul.subnav li.desktop-hidden").length;$(".internet-security").width()<767&&($("#drop").hide(),a>3&&($(".subnav").hide(),$("#drop").show()),3>=a&&($(".subnav").show(),$("ul.subnav li.mobile-hidden").hide(),$("ul.subnav li.desktop-hidden").show(),$("#drop").hide()))}}),internetSecurity.directive("descr",["$timeout",function(a){return{restrict:"C",transclude:!0,template:'<div class="auto-folded" style="display: block;"><div  ng-transclude></div></div>',scope:!0,link:function(b,c){function d(){s=m.wrapInner("<div/>").children(),s.contents().detach().end().append(p.clone(!0)).find("br").replaceWith("<br />").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var b=!1,c=!1;r.afterElement&&(b=r.afterElement.clone(!0),b.show(),r.afterElement.detach()),i(s,q)&&(c=g(s,m,s,q,b)),s.replaceWith(s.contents()),s=null,r.isTruncated=c,a(function(){l.find("a.readmore").css("float","right")})}function e(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}function f(a,b){return"string"==typeof a?(a=$(a,b),a.length?a:!1):a.jquery?a:!1}function g(a,b,c,d,e){var f=!1;return a.contents().detach().each(function(){var g=this,j=$(g);return f?!0:(a.append(j),e&&a.append(e),i(c,d)&&3===g.nodeType&&(f=h(j,b,c,d,e)),void 0)}),f}function h(a,b,c,d){for(var e=a[0],f=k(e),g=-1!==f.indexOf(" ")?" ":"ã€€",h="letter"===d.wrap?"":g,l=f.split(h),m=-1,n=-1,o=0,p=l.length-1;p>=o&&(0!==o||0!==p);){var q=Math.floor((o+p)/2);if(q===n)break;n=q,j(e,l.slice(0,n+1).join(h)+d.ellipsis),i(c,d)?p=n:(m=n,o=n)}return!0}function i(a,b){return a.innerHeight()>b.maxHeight}function j(a,b){a.textContent=b}function k(a){return a.textContent?a.textContent:""}var l=c.children("div").children("div"),m=l;l.find("span").replaceWith(function(){return $(this).contents()});var n={after:"a.readmore"},o={ellipsis:"...",wrap:"word",lastCharacter:{},after:null},p=l.contents(),q=$.extend(!0,{},o,n),r={},s=null;r.afterElement=f(q.after,m),r.isTruncated=!1,a(function(){if(l.outerHeight()>45){l.addClass("setHeight");var a="Read more";l.append('<a class="more-link readmore">'+a+'<i class="icon-caret-down"></i></a>'),p=l.contents(),b.prevContent=l.contents()[0].textContent,r.afterElement=f(q.after,m)}q.maxHeight=e(m),d()},1e3),l.on("click",".readmore",function(){-1!==l.find("a").text().indexOf("Read more")?(l[0].childNodes[0].textContent=b.prevContent,l.css("height","auto"),l.removeClass("setHeight"),l.find("a.readmore").text("  Read less"),l.find("a.readmore").addClass("readless"),l.find("a.readmore").append('<i class="icon-caret-up"></i>')):(l.css("height",q.maxHeight),l.addClass("setHeight"),l.find("a.readmore").text("  Read more"),l.find("a.readmore").append('<i class="icon-caret-down"></i>'),l.find("a.readmore").removeClass("readless"),d())})}}}]);